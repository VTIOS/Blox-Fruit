game:GetService("StarterGui"):SetCore("SendNotification",{
Title = "🍎Blox Fruit Fix Lag🍎",
Text = "create by lk_729", 
Duration = 3
})
-- Tạo GUI để hiển thị FPS
local ScreenGui = Instance.new("ScreenGui")
local TextLabel = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")

-- Đặt tên và bố cục cho GUI
ScreenGui.Name = "FPSDisplay"
ScreenGui.Parent = game:GetService("CoreGui")

TextLabel.Parent = ScreenGui
TextLabel.Size = UDim2.new(0, 100, 0, 30)
TextLabel.Position = UDim2.new(0, 10, 0, 10)
TextLabel.BackgroundTransparency = 0.5
TextLabel.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel.TextSize = 14
TextLabel.TextColor3 = Color3.new(1, 1, 1)
TextLabel.TextStrokeTransparency = 0.5
TextLabel.Font = Enum.Font.SourceSansBold
TextLabel.Text = "FPS: Calculating..."

ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0, 100, 0, 30)
ToggleButton.Position = UDim2.new(0, 10, 0, 50)
ToggleButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Text = "Fix Lag OFF"
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 14

-- Biến trạng thái
local isLagFixEnabled = false

-- Biến để tính FPS
local lastTime = tick()
local frameCount = 0

-- Cập nhật FPS
game:GetService("RunService").RenderStepped:Connect(function()
    frameCount = frameCount + 1
    local currentTime = tick()
    if currentTime - lastTime >= 1 then
        local fps = frameCount / (currentTime - lastTime)
        TextLabel.Text = string.format("FPS: %.0f", fps)
        frameCount = 0
        lastTime = currentTime
    end
end)

-- Script giảm lag hợp pháp trong Roblox
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Mouse = game.Players.LocalPlayer:GetMouse()
local CamlockState = false
local Prediction = 0.16
local HorizontalPrediction = 0.17
local VerticalPrediction = 0.14
local XPrediction = 8.381
local YPrediction = 7.282
local Players = game:GetService("Players")
local LP = Players.LocalPlayer
local Mouse = LP:GetMouse()
local Locked = true
getgenv().Key = "c"
function FindNearestEnemy()
local ClosestDistance, ClosestPlayer = math.huge, nil
local CenterPosition =
Vector2.new(
game:GetService("GuiService"):GetScreenResolution().X / 2,
game:GetService("GuiService"):GetScreenResolution().Y / 2
)
for _, Player in ipairs(game:GetService("Players"):GetPlayers()) do
if Player ~= LocalPlayer then
local Character = Player.Character
if Character and Character:FindFirstChild("HumanoidRootPart") and Character.Humanoid.Health > 0 then
local Position, IsVisibleOnViewport =
game:GetService("Workspace").CurrentCamera:WorldToViewportPoint(Character.HumanoidRootPart.Position)
if IsVisibleOnViewport then
local Distance = (CenterPosition - Vector2.new(Position.X, Position.Y)).Magnitude
if Distance < ClosestDistance then
ClosestPlayer = Character.HumanoidRootPart
ClosestDistance = Distance
end
end
end
end
end
return ClosestPlayer
end
local enemy = nil
-- Function to aim the camera at the nearest enemy's HumanoidRootPart
RunService.Heartbeat:Connect(
function()
if CamlockState == true then
if enemy then
local camera = workspace.CurrentCamera
camera.CFrame = CFrame.new(camera.CFrame.p, enemy.Position + enemy.Velocity * Prediction)
end
end
end
)
Mouse.KeyDown:Connect(function(k)
if k == getgenv().Key then
Locked = not Locked
if Locked then
enemy = FindNearestEnemy()
CamlockState = true
else
if enemy ~= nil then
enemy = nil
CamlockState = false
end
end
end
end)
-- Tắt/Bật fix lag khi nhấn nút
ToggleButton.MouseButton1Click:Connect(function()
    isLagFixEnabled = not isLagFixEnabled

    if isLagFixEnabled then
        optimizeGraphics()
        ToggleButton.Text = "Fix Lag ON"
    else
        resetGraphics()
        ToggleButton.Text = "Fix Lag OFF"
    end
end)
